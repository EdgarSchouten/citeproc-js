  <macro name="edition">
    <choose>
      <if match="any" type="book chapter">
        <choose>
          <if is-numeric="edition">
            <group delimiter=" ">
              <number form="ordinal" variable="edition" />
              <text form="short" suffix="." term="edition" />
            </group>
          </if>
          <else>
            <text suffix="." variable="edition" />
          </else>
        </choose>
      </if>
    </choose>
  </macro>
